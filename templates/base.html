<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wakuku store</title>
    <style>
      .transition-swup {
        opacity: 1;
        transition: opacity 0.3s ease;
      }
      html.is-animating .transition-swup {
        opacity: 0;
      }

      /* Popup styles */
      .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .popup-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      .popup-container {
        background: white;
        border-radius: 1rem;
        width: 100%;
        max-width: 420px;
        box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
        overflow: hidden;
        position: relative;
        transform: translateY(30px);
        opacity: 0;
        transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      }

      .popup-overlay.active .popup-container {
        transform: translateY(0);
        opacity: 1;
      }

      .popup-header {
        padding: 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #e5e7eb;
      }

      .popup-title {
        font-size: 24px;
        font-weight: 700;
        color: #1f2937;
      }

      .close-btn {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
        color: #6b7280;
      }

      .close-btn:hover {
        background: #f9fafb;
        color: #000;
      }

      .popup-tabs {
        display: flex;
        border-bottom: 1px solid #eee;
      }

      .popup-tab {
        flex: 1;
        text-align: center;
        padding: 14px;
        border-radius: 0;
        cursor: pointer;
        font-weight: 600;
        font-size: 16px;
        transition: all 0.2s ease;
        border-bottom: 2px solid transparent;
      }

      .popup-tab.active {
        border-bottom: 2px solid #000;
        color: #000;
      }

      .popup-content {
        padding: 24px;
      }

      .popup-form {
        display: none;
      }

      .popup-form.active {
        display: block;
        animation: fadeIn 0.4s ease forwards;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        font-size: 15px;
        color: #4b5563;
      }

      .form-group input {
        width: 100%;
        padding: 14px;
        border: 1px solid #d1d5db;
        border-radius: 10px;
        font-size: 16px;
        transition: all 0.2s ease;
      }

      .form-group input:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
      }

      .forgot-password {
        display: block;
        text-align: right;
        font-size: 15px;
        color: #3b82f6;
        text-decoration: none;
        margin-top: 8px;
        margin-bottom: 24px;
        transition: color 0.2s;
      }

      .forgot-password:hover {
        color: #2563eb;
        text-decoration: underline;
      }

      .btn-submit {
        width: 100%;
        padding: 16px;
        background: #000;
        color: white;
        border: none;
        border-radius: 10px;
        font-weight: 600;
        font-size: 17px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .btn-submit:hover {
        background: #333;
      }

      .popup-footer {
        text-align: center;
        padding: 20px;
        border-top: 1px solid #e5e7eb;
        font-size: 15px;
        color: #6b7280;
      }

      .popup-footer a {
        color: #3b82f6;
        text-decoration: none;
        font-weight: 600;
        margin-left: 6px;
        transition: all 0.2s;
      }

      .popup-footer a:hover {
        text-decoration: underline;
      }
    </style>
    <link rel="stylesheet" href="/static/css/flyonui.css">
    <script src="/static/js/flyonui.js"></script>
    <link rel="stylesheet" href="/src/output.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="style" href="/static/css/style.css">
</head>
<body class="bg-gray-50">
    <!-- Top slider -->
    <div class="bg-black w-full h-10 flex items-center justify-center">
        <div id="slider" class="w-full max-w-sm overflow-hidden">
            <div class="flex transition-transform duration-700 ease-in-out" id="slides">
                <button class="w-full flex-shrink-0 text-white text-sm font-medium px-4 truncate">FREE SHIPPING TO UKRAINE</button>
                <button class="w-full flex-shrink-0 text-white text-sm font-medium px-4 truncate">WAKUKU FOR SALE</button>
                <button class="w-full flex-shrink-0 text-white text-sm font-medium px-4 truncate">BIG SALE</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white text-black p-4 shadow-lg">
        <!-- Desktop Navigation -->
        <div class="hidden md:flex items-center justify-between">
            <!-- Left section: Logo and brand -->
            <div class="flex items-center">
                <img src="/static/images/nav_wakuku.png" class="h-[50px] mr-3" alt="Wakuku Logo"/>
                <span class="font-bold text-2xl">WAKUKU</span>
                <div class="mx-20"></div>
                <button class="nav-button font-medium mx-4 text-lg hover:text-blue-600 transition-colors">WHAT'S NEW</button>
                <a href="/shop" class="nav-button font-medium mx-4 text-lg hover:text-blue-600 transition-colors">SHOP</a>
                <a href="/sale" class="nav-button font-medium mx-4 text-lg text-red-600 hover:text-blue-600 transition-colors">SALE</a>
            </div>

            <!-- Right section: Search and auth -->
            <div class="flex items-center">
                <!-- Search -->
                <div class="relative mr-6">
                    <input
                        type="text"
                        placeholder="Search..."
                        class="w-64 pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                    >
                    <svg class="w-5 h-5 absolute left-3 top-2.5 text-gray-400"
                         fill="none"
                         stroke="currentColor"
                         viewBox="0 0 24 24"
                         xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z">
                        </path>
                    </svg>
                </div>

                <!-- Auth buttons -->
                <div class="flex">
                    <button id="login-nav-btn" class="font-medium mx-2 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors">LOG IN</button>
                    <button id="signup-nav-btn" class="font-medium mx-2 px-4 py-2 rounded-lg bg-black text-white hover:bg-gray-800 transition-colors">SIGN UP</button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation -->
        <div class="md:hidden">
            <div class="flex items-center justify-between">
                <!-- Logo and brand -->
                <div class="flex items-center">
                    <img src="/static/images/nav_wakuku.png" class="h-[40px] mr-2" alt="Wakuku Logo"/>
                    <span class="font-bold text-xl">WAKUKU</span>
                </div>

                <!-- Mobile menu button -->
                <button id="mobile-menu-button" class="p-2 rounded-md hover:bg-gray-100">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>

            <!-- Mobile menu (hidden by default) -->
            <div id="mobile-menu" class="hidden mt-4">
                <div class="flex flex-col space-y-2">
                    <button class="nav-button font-medium py-2 text-lg hover:text-blue-600 transition-colors">WHAT'S NEW</button>
                    <button class="nav-button font-medium py-2 text-lg hover:text-blue-600 transition-colors">SHOP</button>
                    <button class="nav-button font-medium py-2 text-lg text-red-600 hover:text-blue-600 transition-colors">SALE</button>
                </div>

                <!-- Search -->
                <div class="relative my-4">
                    <input
                        type="text"
                        placeholder="Search..."
                        class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                    >
                    <svg class="w-5 h-5 absolute left-3 top-2.5 text-gray-400"
                         fill="none"
                         stroke="currentColor"
                         viewBox="0 0 24 24"
                         xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="2"
                              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z">
                        </path>
                    </svg>
                </div>

                <!-- Auth buttons -->
                <div class="flex flex-col space-y-2">
                    <button id="mobile-login-btn" class="font-medium py-2 rounded-lg hover:bg-gray-100 transition-colors">LOG IN</button>
                    <button id="mobile-signup-btn" class="font-medium py-2 rounded-lg bg-black text-white hover:bg-gray-800 transition-colors">SIGN UP</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main content area -->
    <main id="swup" class="transition-swup">
        {% block content %}{% endblock %}
    </main>

    <!-- Popup для авторизации/регистрации -->
    <div class="popup-overlay" id="auth-popup">
        <div class="popup-container">
            <div class="popup-header">
                <h2 class="popup-title" id="popup-title">Welcome to Wakuku</h2>
                <button id="close-popup" class="close-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <div class="popup-tabs">
                <div class="popup-tab active" data-tab="login">Log In</div>
                <div class="popup-tab" data-tab="signup">Sign Up</div>
            </div>

            <div class="popup-content">
                <!-- Форма входа -->
                <form action="/login" method="POST">
                <div class="popup-form active" id="login-form">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" placeholder="••••••••">
                    </div>
                    <a href="#" class="forgot-password">Forgot password?</a>
                    <button type="submit" class="btn-submit">Log In</button>
                </div>
                </form>

                <!-- Форма регистрации -->
                <form action="/signup" method="POST">
                <div class="popup-form" id="signup-form">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" placeholder="••••••••">
                    </div>
                    <button class="btn-submit">Create Account</button>
                </div>
                    </form>
            </div>

            <div class="popup-footer">
                <span id="switch-text">Don't have an account?</span>
                <a id="switch-link">Sign Up</a>
            </div>
        </div>
    </div>

    <script>
        // Ваш оригинальный слайдер
        let index = 0;
        const slides = document.getElementById('slides');
        const total = slides.children.length;
        let direction = 1;

        function updateSlider() {
            slides.style.transform = `translateX(-${index * 100}%)`;
        }

        setInterval(() => {
            index += direction;
            if (index === total - 1) direction = -1;
            else if (index === 0) direction = 1;
            updateSlider();
        }, 3000);

        // Управление popup
        const authPopup = document.getElementById('auth-popup');
        const loginNavBtn = document.getElementById('login-nav-btn');
        const signupNavBtn = document.getElementById('signup-nav-btn');
        const mobileLoginBtn = document.getElementById('mobile-login-btn');
        const mobileSignupBtn = document.getElementById('mobile-signup-btn');
        const closePopupBtn = document.getElementById('close-popup');
        const popupTabs = document.querySelectorAll('.popup-tab');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const switchLink = document.getElementById('switch-link');
        const switchText = document.getElementById('switch-text');
        const popupTitle = document.getElementById('popup-title');

        // Открытие popup
        [loginNavBtn, signupNavBtn, mobileLoginBtn, mobileSignupBtn].forEach(btn => {
            btn?.addEventListener('click', () => {
                authPopup.classList.add('active');
                document.body.style.overflow = 'hidden';

                if (btn.id.includes('signup')) {
                    switchTab('signup');
                } else {
                    switchTab('login');
                }
            });
        });

        // Закрытие popup
        closePopupBtn.addEventListener('click', () => {
            authPopup.classList.remove('active');
            document.body.style.overflow = '';
        });

        // Переключение вкладок
        popupTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.getAttribute('data-tab');
                switchTab(tabName);
            });
        });

        // Переключение между формами
        switchLink.addEventListener('click', () => {
            if (switchLink.textContent === 'Sign Up') {
                switchTab('signup');
            } else {
                switchTab('login');
            }
        });

        // Функция переключения табов
        function switchTab(tabName) {
            // Обновление табов
            popupTabs.forEach(tab => {
                tab.classList.toggle('active', tab.getAttribute('data-tab') === tabName);
            });

            // Обновление форм
            loginForm.classList.toggle('active', tabName === 'login');
            signupForm.classList.toggle('active', tabName === 'signup');

            // Обновление текста переключения
            if (tabName === 'login') {
                popupTitle.textContent = 'Welcome to Wakuku';
                switchText.textContent = "Don't have an account?";
                switchLink.textContent = "Sign Up";
            } else {
                popupTitle.textContent = 'Create Account';
                switchText.textContent = "Already have an account?";
                switchLink.textContent = "Log In";
            }
        }

        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton?.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
    </script>

    <script src="https://unpkg.com/swup@4"></script>
    <script>
      const swup = new Swup({
        containers: ["#swup"],
      });
    </script>
</body>
</html>